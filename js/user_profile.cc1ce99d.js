"use strict";(self["webpackChunkHeimatoutiao"]=self["webpackChunkHeimatoutiao"]||[]).push([[932],{5711:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-profile"},[e("van-nav-bar",{attrs:{title:"个人信息","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}}),e("van-cell",{attrs:{title:"头像",center:"","is-link":""}},[e("van-image",{attrs:{src:t.userProfile.photo,round:"",fit:"cover",width:"30",height:"30"}})],1),e("van-cell",{attrs:{title:"昵称","is-link":"",value:t.userProfile.name},on:{click:function(e){t.showEditNameShow=!0}}}),e("van-cell",{attrs:{title:"性别","is-link":"",value:0===t.userProfile.gender?"男":"女"}}),e("van-cell",{attrs:{title:"生日","is-link":"",value:t.userProfile.birthday}}),e("van-popup",{style:{height:"100%"},attrs:{position:"bottom"},model:{value:t.showEditNameShow,callback:function(e){t.showEditNameShow=e},expression:"showEditNameShow"}},[e("update-name",{attrs:{name:t.userProfile.name},on:{close:function(e){t.showEditNameShow=!1},"update-name":function(e){t.userProfile.name=e}}})],1)],1)},l=[],s=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{staticClass:"nav-bar-vant",attrs:{title:"修改昵称","left-text":"取消","right-text":"完成"},on:{"click-left":function(e){return t.$emit("close")},"click-right":t.onClickRight}}),e("van-field",{attrs:{rows:"2",type:"textarea",maxlength:"7",placeholder:"请输入昵称","show-word-limit":""},model:{value:t.localName,callback:function(e){t.localName=e},expression:"localName"}})],1)},o=[],n=a(7756),r={name:"UpdateName",props:{name:{type:String,required:!0}},data(){return{localName:this.name}},methods:{async onClickRight(){this.$toast.loading({message:"保存中...",forbidClick:!0});try{await(0,n.Lj)({name:this.localName}),this.$toast.success("保存成功"),this.$emit("update-name",this.localName),this.$emit("close")}catch(t){t&&t.response&&409===t.response.status&&this.$toast.fail("昵称已存在")}}}},c=r,u=a(1001),h=(0,u.Z)(c,s,o,!1,null,"8ed1f18c",null),m=h.exports,f={name:"UserProfile",data(){return{userProfile:{},showEditNameShow:!1}},components:{UpdateName:m},created(){this.loadUserProfile()},methods:{async loadUserProfile(){const{data:t}=await(0,n.et)();this.userProfile=t}}},d=f,p=(0,u.Z)(d,i,l,!1,null,"13f8f960",null),v=p.exports}}]);
//# sourceMappingURL=user_profile.cc1ce99d.js.map