"use strict";(self["webpackChunkHeimatoutiao"]=self["webpackChunkHeimatoutiao"]||[]).push([[942],{354:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"文章详情","left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}}),e("h1",{staticClass:"title"},[t._v(t._s(t.article.title))]),e("van-cell",{staticClass:"user-info",attrs:{center:""}},[e("div",{staticClass:"name",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.article.aut_name))]),e("van-image",{staticClass:"user-avatar",attrs:{slot:"icon",round:"",fit:"cover",src:t.article.aut_photo},slot:"icon"}),e("div",{staticClass:"time",attrs:{slot:"label"},slot:"label"},[t._v(" "+t._s(t._f("relativeTime")(t.article.pubdate))+" ")]),e("van-button",{staticClass:"right-btn",attrs:{type:t.article.is_followed?"default":"info",round:"",size:"small",icon:t.article.is_followed?"":"plus"}},[t._v(t._s(t.article.is_followed?"已关注":"关注")+" ")])],1),e("div",{ref:"article-content",staticClass:"content markdown-body",domProps:{innerHTML:t._s(t.article.content)}})],1)},c=[],n=(a(7658),a(7756)),s=a(993),l={name:"Artice",data(){return{article:{}}},created(){this.loadArticle()},props:{articleId:{type:[String,Number,Object],required:!0}},methods:{async loadArticle(){const{data:t}=await(0,n.fq)(this.articleId);this.article=t,this.replaceAutPhoto(),this.replaceContentImg(),this.$nextTick((()=>{this.handlePerviewImage()}))},handlePerviewImage(){const t=this.$refs["article-content"],e=t.querySelectorAll("img"),a=[];e.forEach(((t,e)=>{a.push(t.src),t.onclick=function(){(0,s.Z)({images:a,startPosition:e})}}))},replaceAutPhoto(){let t=["https://img01.yzcdn.cn/vant/cat.jpeg","https://img01.yzcdn.cn/vant/logo.png","https://static.wikia.nocookie.net/fcs-vs-battle/images/3/35/ASDFGuy_Vector.png/revision/latest?cb=20201113171318","https://www.aplpackaging.co.uk/wp-content/uploads/2019/12/mailingbox-brown-310x240x114-000-300x300.jpg"],e=Math.floor(Math.random()*t.length);this.article.aut_photo=t[e]},replaceContentImg(){this.article.content=this.article.content.replace(/\/\/upload-images.*?['"]/g,"https://img01.yzcdn.cn/vant/cat.jpeg"),this.article.content=this.article.content.replace(/src=".*?['"]/g,'src="https://img01.yzcdn.cn/vant/cat.jpeg"'),this.article.content=this.article.content.replace(/data-original-src=".*?['"]/g,'src="https://img01.yzcdn.cn/vant/cat.jpeg"')}}},r=l,o=a(1001),h=(0,o.Z)(r,i,c,!1,null,"f32f685c",null),p=h.exports}}]);
//# sourceMappingURL=article.c3d0bc05.js.map