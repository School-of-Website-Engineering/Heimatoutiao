"use strict";(self["webpackChunkHeimatoutiao"]=self["webpackChunkHeimatoutiao"]||[]).push([[464],{4181:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-container"},[e("form",{attrs:{action:"/"}},[e("van-search",{attrs:{"input-align":"center","show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:function(e){return t.$router.back()},focus:function(e){t.showResult=!1}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),t.showResult?e("search-result",{staticClass:"search-result"}):t.searchText?e("search-suggestion",{attrs:{"search-text":t.searchText}}):e("search-history")],1)},n=[],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-suggestion"},t._l(t.searchList,(function(t,s){return e("van-cell",{key:s,staticClass:"search-item",attrs:{icon:"search",title:t}})})),1)},i=[],l=s(7756),c={name:"searchSuggestion",data(){return{searchList:[]}},props:{searchText:{type:String,required:!0}},watch:{searchText:{async handler(){const{data:t}=await(0,l.KF)(this.searchText);this.searchList=t.options},immediate:!0}}},o=c,h=s(1001),u=(0,h.Z)(o,r,i,!1,null,"3eeb4fa0",null),d=u.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-history"},[e("van-cell",{attrs:{title:"搜索历史"}},[e("div",{staticClass:"delete"},[e("span",[t._v("全部删除")]),t._v("    "),e("span",[t._v("完成")])])]),e("van-cell",{attrs:{title:"hello"}},[e("van-icon",{attrs:{name:"close"}})],1)],1)},v=[],p={name:"searchHistory"},x=p,g=(0,h.Z)(x,f,v,!1,null,"3b37f0ef",null),m=g.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-result"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return e("van-cell",{key:t,attrs:{title:t}})})),1)],1)},T=[],k=(s(7658),{name:"searchResult",data(){return{list:[],loading:!1,finished:!1}},methods:{onLoad(){setTimeout((()=>{for(let t=0;t<10;t++)this.list.push(this.list.length+1);this.loading=!1,this.list.length>=40&&(this.finished=!0)}),1e3)}}}),w=k,C=(0,h.Z)(w,_,T,!1,null,"461a5174",null),y=C.exports,b={name:"searchIndex",data(){return{searchText:"",showResult:!1}},components:{searchSuggestion:d,searchHistory:m,searchResult:y},methods:{onSearch(){this.showResult=!0}}},R=b,L=(0,h.Z)(R,a,n,!1,null,"03565830",null),S=L.exports}}]);
//# sourceMappingURL=search.d8e71487.js.map